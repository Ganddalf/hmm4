Олейник Михаил, Б05-951

Копирую Герои Меча и Магии 4

№№№№ HUION H1060P №№№№
Существуют 6 вариантов городов, для каждого есть какие-то общие строения (форт, ратуша, тюрьма, таверна и т.д.), есть особенные для этого города.
Также в каждом городе находятся 8 зданий, производящих существ: по два здания на каждый уровень существ.
Пример существ в городе Академия:
1-й уровень: гномы и хоббиты
2-й уровень: маги и золотые големы
3-й уровень: джинны и наги
4-й уровень: драконьи големы и титаны

Существует класс Unit, от которого наследуются все юниты.

Основным архитектурным решением было использовать паттерн "Строитель" для создания городов.
Так как структура города весьма сложная, и в то же время каждый город в чем-то особенный, то этот паттерн очень подходит.

Но для начала о строениях.
Существует абстрактный класс Building, от которого наследуется другой абстрактный класс UnitBuilding
Здания, производящие существ, наследуются от UnitBuilding, остальные - от Building
UnitBuilding поддерживает метод GetUnit, возвращающий юнит, производимый в этом здании.

Теперь к строителю.
Класс Town хранит в себе список зданий, с ним и работает паттерн.
Так же есть класс TownBuilder, абстрактный строитель, от него наследуются шесть строителей - на каждый вариант города (реализован пока один, AcademyBuilder)
Каждый строитель реализует свои здания, основные различия между ними как раз в реализации строений для производства существ.

В классе Director реализованы несколько заготовок, для маленького, среднего и большого города.
Что также ещё один плюс выбранного паттерна - в кампаниях и сценариях оригинальной игры игрок практически всегда встречает не "пустые", а частично застроенные города, что легко реализуемо именно с помощью строителя.

Конечно, пока реализован только один город, и функционала нет, но это потому что времени нет, сдаю на первую проверку так.
При запуске можно выбрать вариант города Академии: маленький, средний, большой - выведутся здания, которые есть в данном городе, и отдельно здания, которые производят существ.